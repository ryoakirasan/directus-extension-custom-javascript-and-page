import e from"url";import t from"path";import n from"tty";import a,{promisify as i}from"util";import r from"fs";import s from"net";import o from"events";import c from"stream";import p from"zlib";import d from"crypto";function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var u,m;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),a={};for(const e of n)a[e]=t[e];return e.objectValues(a)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(u||(u={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(m||(m={}));const f=u.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),h=e=>{switch(typeof e){case"undefined":return f.undefined;case"string":return f.string;case"number":return isNaN(e)?f.nan:f.number;case"boolean":return f.boolean;case"function":return f.function;case"bigint":return f.bigint;case"symbol":return f.symbol;case"object":return Array.isArray(e)?f.array:null===e?f.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?f.promise:"undefined"!=typeof Map&&e instanceof Map?f.map:"undefined"!=typeof Set&&e instanceof Set?f.set:"undefined"!=typeof Date&&e instanceof Date?f.date:f.object;default:return f.unknown}},v=u.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class g extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},a=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(a);else if("invalid_return_type"===i.code)a(i.returnTypeError);else if("invalid_arguments"===i.code)a(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,a=0;for(;a<i.path.length;){const n=i.path[a];a===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],a++}}};return a(this),n}static assert(e){if(!(e instanceof g))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,u.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}g.create=e=>new g(e);const x=(e,t)=>{let n;switch(e.code){case v.invalid_type:n=e.received===f.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case v.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,u.jsonStringifyReplacer)}`;break;case v.unrecognized_keys:n=`Unrecognized key(s) in object: ${u.joinValues(e.keys,", ")}`;break;case v.invalid_union:n="Invalid input";break;case v.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${u.joinValues(e.options)}`;break;case v.invalid_enum_value:n=`Invalid enum value. Expected ${u.joinValues(e.options)}, received '${e.received}'`;break;case v.invalid_arguments:n="Invalid function arguments";break;case v.invalid_return_type:n="Invalid function return type";break;case v.invalid_date:n="Invalid date";break;case v.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:u.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case v.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case v.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case v.custom:n="Invalid input";break;case v.invalid_intersection_types:n="Intersection results could not be merged";break;case v.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case v.not_finite:n="Number must be finite";break;default:n=t.defaultError,u.assertNever(e)}return{message:n}};let y=x;function b(){return y}const _=e=>{const{data:t,path:n,errorMaps:a,issueData:i}=e,r=[...n,...i.path||[]],s={...i,path:r};if(void 0!==i.message)return{...i,path:r,message:i.message};let o="";const c=a.filter((e=>!!e)).slice().reverse();for(const e of c)o=e(s,{data:t,defaultError:o}).message;return{...i,path:r,message:o}};function w(e,t){const n=b(),a=_({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===x?void 0:x].filter((e=>!!e))});e.common.issues.push(a)}class k{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const a of t){if("aborted"===a.status)return j;"dirty"===a.status&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,a=await e.value;n.push({key:t,value:a})}return k.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const a of t){const{key:t,value:i}=a;if("aborted"===t.status)return j;if("aborted"===i.status)return j;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||void 0===i.value&&!a.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const j=Object.freeze({status:"aborted"}),T=e=>({status:"dirty",value:e}),E=e=>({status:"valid",value:e}),C=e=>"aborted"===e.status,O=e=>"dirty"===e.status,S=e=>"valid"===e.status,N=e=>"undefined"!=typeof Promise&&e instanceof Promise;function A(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)}function Z(e,t,n,a,i){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?i.call(e,n):i?i.value=n:t.set(e,n),n}var R,z,I;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(R||(R={}));class P{constructor(e,t,n,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const F=(e,t)=>{if(S(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new g(e.common.issues);return this._error=t,this._error}}};function M(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:a,description:i}=e;if(t&&(n||a))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(t,i)=>{var r,s;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:i.defaultError}:void 0===i.data?{message:null!==(r=null!=o?o:a)&&void 0!==r?r:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(s=null!=o?o:n)&&void 0!==s?s:i.defaultError}},description:i}}class D{get description(){return this._def.description}_getType(e){return h(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:h(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new k,ctx:{common:e.parent.common,data:e.data,parsedType:h(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(N(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const a={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:h(e)},i=this._parseSync({data:e,path:a.path,parent:a});return F(a,i)}"~validate"(e){var t,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:h(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:a});return S(t)?{value:t.value}:{issues:a.common.issues}}catch(e){(null===(n=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then((e=>S(e)?{value:e.value}:{issues:a.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:h(e)},a=this._parse({data:e,path:n.path,parent:n}),i=await(N(a)?a:Promise.resolve(a));return F(n,i)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,a)=>{const i=e(t),r=()=>a.addIssue({code:v.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then((e=>!!e||(r(),!1))):!!i||(r(),!1)}))}refinement(e,t){return this._refinement(((n,a)=>!!e(n)||(a.addIssue("function"==typeof t?t(n,a):t),!1)))}_refinement(e){return new De({schema:this,typeName:Je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Le.create(this,this._def)}nullable(){return qe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return be.create(this)}promise(){return Me.create(this,this._def)}or(e){return ke.create([this,e],this._def)}and(e){return Ce.create(this,e,this._def)}transform(e){return new De({...M(this._def),schema:this,typeName:Je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new $e({...M(this._def),innerType:this,defaultValue:t,typeName:Je.ZodDefault})}brand(){return new Ve({typeName:Je.ZodBranded,type:this,...M(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new Ue({...M(this._def),innerType:this,catchValue:t,typeName:Je.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return We.create(this,e)}readonly(){return Ke.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const L=/^c[^\s-]{8,}$/i,q=/^[0-9a-z]+$/,$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,U=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,H=/^[a-z0-9_-]{21}$/i,B=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,V=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,W=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let K;const G=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Y=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,J=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,X=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Q=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,te="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ne=new RegExp(`^${te}$`);function ae(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function ie(e){let t=`${te}T${ae(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function re(e,t){if(!B.test(e))return!1;try{const[n]=e.split("."),a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(a));return"object"==typeof i&&null!==i&&(!(!i.typ||!i.alg)&&(!t||i.alg===t))}catch(e){return!1}}function se(e,t){return!("v4"!==t&&t||!Y.test(e))||!("v6"!==t&&t||!X.test(e))}class oe extends D{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==f.string){const t=this._getOrReturnCtx(e);return w(t,{code:v.invalid_type,expected:f.string,received:t.parsedType}),j}const t=new k;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),w(n,{code:v.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),w(n,{code:v.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const a=e.data.length>r.value,i=e.data.length<r.value;(a||i)&&(n=this._getOrReturnCtx(e,n),a?w(n,{code:v.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):i&&w(n,{code:v.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)W.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"email",code:v.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)K||(K=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),K.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"emoji",code:v.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)U.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"uuid",code:v.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)H.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"nanoid",code:v.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)L.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"cuid",code:v.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)q.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"cuid2",code:v.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)$.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"ulid",code:v.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(a){n=this._getOrReturnCtx(e,n),w(n,{validation:"url",code:v.invalid_string,message:r.message}),t.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"regex",code:v.invalid_string,message:r.message}),t.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),w(n,{code:v.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),w(n,{code:v.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),w(n,{code:v.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if("datetime"===r.kind){ie(r).test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{code:v.invalid_string,validation:"datetime",message:r.message}),t.dirty())}else if("date"===r.kind){ne.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{code:v.invalid_string,validation:"date",message:r.message}),t.dirty())}else if("time"===r.kind){new RegExp(`^${ae(r)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{code:v.invalid_string,validation:"time",message:r.message}),t.dirty())}else"duration"===r.kind?V.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"duration",code:v.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?(a=e.data,("v4"!==(i=r.version)&&i||!G.test(a))&&("v6"!==i&&i||!J.test(a))&&(n=this._getOrReturnCtx(e,n),w(n,{validation:"ip",code:v.invalid_string,message:r.message}),t.dirty())):"jwt"===r.kind?re(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"jwt",code:v.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?se(e.data,r.version)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"cidr",code:v.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?Q.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"base64",code:v.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?ee.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"base64url",code:v.invalid_string,message:r.message}),t.dirty()):u.assertNever(r);var a,i;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:v.invalid_string,...R.errToObj(n)})}_addCheck(e){return new oe({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...R.errToObj(e)})}url(e){return this._addCheck({kind:"url",...R.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...R.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...R.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...R.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...R.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...R.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...R.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...R.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...R.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...R.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...R.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...R.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...R.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...R.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...R.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...R.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...R.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...R.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...R.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...R.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...R.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...R.errToObj(t)})}nonempty(e){return this.min(1,R.errToObj(e))}trim(){return new oe({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new oe({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new oe({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function ce(e,t){const n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,i=n>a?n:a;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}oe.create=e=>{var t;return new oe({checks:[],typeName:Je.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...M(e)})};class pe extends D{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==f.number){const t=this._getOrReturnCtx(e);return w(t,{code:v.invalid_type,expected:f.number,received:t.parsedType}),j}let t;const n=new k;for(const a of this._def.checks)if("int"===a.kind)u.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),w(t,{code:v.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty());else if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),w(t,{code:v.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),w(t,{code:v.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty())}else"multipleOf"===a.kind?0!==ce(e.data,a.value)&&(t=this._getOrReturnCtx(e,t),w(t,{code:v.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),w(t,{code:v.not_finite,message:a.message}),n.dirty()):u.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,R.toString(t))}gt(e,t){return this.setLimit("min",e,!1,R.toString(t))}lte(e,t){return this.setLimit("max",e,!0,R.toString(t))}lt(e,t){return this.setLimit("max",e,!1,R.toString(t))}setLimit(e,t,n,a){return new pe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:R.toString(a)}]})}_addCheck(e){return new pe({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:R.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:R.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:R.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:R.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:R.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&u.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}pe.create=e=>new pe({checks:[],typeName:Je.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...M(e)});class de extends D{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==f.bigint)return this._getInvalidInput(e);let t;const n=new k;for(const a of this._def.checks)if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),w(t,{code:v.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),w(t,{code:v.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),w(t,{code:v.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):u.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return w(t,{code:v.invalid_type,expected:f.bigint,received:t.parsedType}),j}gte(e,t){return this.setLimit("min",e,!0,R.toString(t))}gt(e,t){return this.setLimit("min",e,!1,R.toString(t))}lte(e,t){return this.setLimit("max",e,!0,R.toString(t))}lt(e,t){return this.setLimit("max",e,!1,R.toString(t))}setLimit(e,t,n,a){return new de({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:R.toString(a)}]})}_addCheck(e){return new de({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:R.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}de.create=e=>{var t;return new de({checks:[],typeName:Je.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...M(e)})};class le extends D{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==f.boolean){const t=this._getOrReturnCtx(e);return w(t,{code:v.invalid_type,expected:f.boolean,received:t.parsedType}),j}return E(e.data)}}le.create=e=>new le({typeName:Je.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...M(e)});class ue extends D{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==f.date){const t=this._getOrReturnCtx(e);return w(t,{code:v.invalid_type,expected:f.date,received:t.parsedType}),j}if(isNaN(e.data.getTime())){return w(this._getOrReturnCtx(e),{code:v.invalid_date}),j}const t=new k;let n;for(const a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),w(n,{code:v.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),t.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),w(n,{code:v.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),t.dirty()):u.assertNever(a);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ue({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:R.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:R.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ue.create=e=>new ue({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Je.ZodDate,...M(e)});class me extends D{_parse(e){if(this._getType(e)!==f.symbol){const t=this._getOrReturnCtx(e);return w(t,{code:v.invalid_type,expected:f.symbol,received:t.parsedType}),j}return E(e.data)}}me.create=e=>new me({typeName:Je.ZodSymbol,...M(e)});class fe extends D{_parse(e){if(this._getType(e)!==f.undefined){const t=this._getOrReturnCtx(e);return w(t,{code:v.invalid_type,expected:f.undefined,received:t.parsedType}),j}return E(e.data)}}fe.create=e=>new fe({typeName:Je.ZodUndefined,...M(e)});class he extends D{_parse(e){if(this._getType(e)!==f.null){const t=this._getOrReturnCtx(e);return w(t,{code:v.invalid_type,expected:f.null,received:t.parsedType}),j}return E(e.data)}}he.create=e=>new he({typeName:Je.ZodNull,...M(e)});class ve extends D{constructor(){super(...arguments),this._any=!0}_parse(e){return E(e.data)}}ve.create=e=>new ve({typeName:Je.ZodAny,...M(e)});class ge extends D{constructor(){super(...arguments),this._unknown=!0}_parse(e){return E(e.data)}}ge.create=e=>new ge({typeName:Je.ZodUnknown,...M(e)});class xe extends D{_parse(e){const t=this._getOrReturnCtx(e);return w(t,{code:v.invalid_type,expected:f.never,received:t.parsedType}),j}}xe.create=e=>new xe({typeName:Je.ZodNever,...M(e)});class ye extends D{_parse(e){if(this._getType(e)!==f.undefined){const t=this._getOrReturnCtx(e);return w(t,{code:v.invalid_type,expected:f.void,received:t.parsedType}),j}return E(e.data)}}ye.create=e=>new ye({typeName:Je.ZodVoid,...M(e)});class be extends D{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),a=this._def;if(t.parsedType!==f.array)return w(t,{code:v.invalid_type,expected:f.array,received:t.parsedType}),j;if(null!==a.exactLength){const e=t.data.length>a.exactLength.value,i=t.data.length<a.exactLength.value;(e||i)&&(w(t,{code:e?v.too_big:v.too_small,minimum:i?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(w(t,{code:v.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(w(t,{code:v.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>a.type._parseAsync(new P(t,e,t.path,n))))).then((e=>k.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>a.type._parseSync(new P(t,e,t.path,n))));return k.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new be({...this._def,minLength:{value:e,message:R.toString(t)}})}max(e,t){return new be({...this._def,maxLength:{value:e,message:R.toString(t)}})}length(e,t){return new be({...this._def,exactLength:{value:e,message:R.toString(t)}})}nonempty(e){return this.min(1,e)}}function _e(e){if(e instanceof we){const t={};for(const n in e.shape){const a=e.shape[n];t[n]=Le.create(_e(a))}return new we({...e._def,shape:()=>t})}return e instanceof be?new be({...e._def,type:_e(e.element)}):e instanceof Le?Le.create(_e(e.unwrap())):e instanceof qe?qe.create(_e(e.unwrap())):e instanceof Oe?Oe.create(e.items.map((e=>_e(e)))):e}be.create=(e,t)=>new be({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Je.ZodArray,...M(t)});class we extends D{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=u.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==f.object){const t=this._getOrReturnCtx(e);return w(t,{code:v.invalid_type,expected:f.object,received:t.parsedType}),j}const{status:t,ctx:n}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),r=[];if(!(this._def.catchall instanceof xe&&"strip"===this._def.unknownKeys))for(const e in n.data)i.includes(e)||r.push(e);const s=[];for(const e of i){const t=a[e],i=n.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new P(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof xe){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of r)s.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)r.length>0&&(w(n,{code:v.unrecognized_keys,keys:r}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of r){const a=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new P(n,a,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key,a=await t.value;e.push({key:n,value:a,alwaysSet:t.alwaysSet})}return e})).then((e=>k.mergeObjectSync(t,e))):k.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return R.errToObj,new we({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var a,i,r,s;const o=null!==(r=null===(i=(a=this._def).errorMap)||void 0===i?void 0:i.call(a,t,n).message)&&void 0!==r?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=R.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new we({...this._def,unknownKeys:"strip"})}passthrough(){return new we({...this._def,unknownKeys:"passthrough"})}extend(e){return new we({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new we({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Je.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new we({...this._def,catchall:e})}pick(e){const t={};return u.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new we({...this._def,shape:()=>t})}omit(e){const t={};return u.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new we({...this._def,shape:()=>t})}deepPartial(){return _e(this)}partial(e){const t={};return u.objectKeys(this.shape).forEach((n=>{const a=this.shape[n];e&&!e[n]?t[n]=a:t[n]=a.optional()})),new we({...this._def,shape:()=>t})}required(e){const t={};return u.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Le;)e=e._def.innerType;t[n]=e}})),new we({...this._def,shape:()=>t})}keyof(){return Ie(u.objectKeys(this.shape))}}we.create=(e,t)=>new we({shape:()=>e,unknownKeys:"strip",catchall:xe.create(),typeName:Je.ZodObject,...M(t)}),we.strictCreate=(e,t)=>new we({shape:()=>e,unknownKeys:"strict",catchall:xe.create(),typeName:Je.ZodObject,...M(t)}),we.lazycreate=(e,t)=>new we({shape:e,unknownKeys:"strip",catchall:xe.create(),typeName:Je.ZodObject,...M(t)});class ke extends D{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new g(e.ctx.common.issues)));return w(t,{code:v.invalid_union,unionErrors:n}),j}));{let e;const a=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},r=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===r.status)return r;"dirty"!==r.status||e||(e={result:r,ctx:n}),n.common.issues.length&&a.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=a.map((e=>new g(e)));return w(t,{code:v.invalid_union,unionErrors:i}),j}}get options(){return this._def.options}}ke.create=(e,t)=>new ke({options:e,typeName:Je.ZodUnion,...M(t)});const je=e=>e instanceof Re?je(e.schema):e instanceof De?je(e.innerType()):e instanceof ze?[e.value]:e instanceof Pe?e.options:e instanceof Fe?u.objectValues(e.enum):e instanceof $e?je(e._def.innerType):e instanceof fe?[void 0]:e instanceof he?[null]:e instanceof Le?[void 0,...je(e.unwrap())]:e instanceof qe?[null,...je(e.unwrap())]:e instanceof Ve||e instanceof Ke?je(e.unwrap()):e instanceof Ue?je(e._def.innerType):[];class Te extends D{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==f.object)return w(t,{code:v.invalid_type,expected:f.object,received:t.parsedType}),j;const n=this.discriminator,a=t.data[n],i=this.optionsMap.get(a);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(w(t,{code:v.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),j)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const a=new Map;for(const n of t){const t=je(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(a.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);a.set(i,n)}}return new Te({typeName:Je.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...M(n)})}}function Ee(e,t){const n=h(e),a=h(t);if(e===t)return{valid:!0,data:e};if(n===f.object&&a===f.object){const n=u.objectKeys(t),a=u.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const n of a){const a=Ee(e[n],t[n]);if(!a.valid)return{valid:!1};i[n]=a.data}return{valid:!0,data:i}}if(n===f.array&&a===f.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let a=0;a<e.length;a++){const i=Ee(e[a],t[a]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===f.date&&a===f.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ce extends D{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=(e,a)=>{if(C(e)||C(a))return j;const i=Ee(e.value,a.value);return i.valid?((O(e)||O(a))&&t.dirty(),{status:t.value,value:i.data}):(w(n,{code:v.invalid_intersection_types}),j)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>a(e,t))):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ce.create=(e,t,n)=>new Ce({left:e,right:t,typeName:Je.ZodIntersection,...M(n)});class Oe extends D{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==f.array)return w(n,{code:v.invalid_type,expected:f.array,received:n.parsedType}),j;if(n.data.length<this._def.items.length)return w(n,{code:v.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),j;!this._def.rest&&n.data.length>this._def.items.length&&(w(n,{code:v.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...n.data].map(((e,t)=>{const a=this._def.items[t]||this._def.rest;return a?a._parse(new P(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(a).then((e=>k.mergeArray(t,e))):k.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new Oe({...this._def,rest:e})}}Oe.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oe({items:e,typeName:Je.ZodTuple,rest:null,...M(t)})};class Se extends D{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==f.object)return w(n,{code:v.invalid_type,expected:f.object,received:n.parsedType}),j;const a=[],i=this._def.keyType,r=this._def.valueType;for(const e in n.data)a.push({key:i._parse(new P(n,e,n.path,e)),value:r._parse(new P(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?k.mergeObjectAsync(t,a):k.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,n){return new Se(t instanceof D?{keyType:e,valueType:t,typeName:Je.ZodRecord,...M(n)}:{keyType:oe.create(),valueType:e,typeName:Je.ZodRecord,...M(t)})}}class Ne extends D{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==f.map)return w(n,{code:v.invalid_type,expected:f.map,received:n.parsedType}),j;const a=this._def.keyType,i=this._def.valueType,r=[...n.data.entries()].map((([e,t],r)=>({key:a._parse(new P(n,e,n.path,[r,"key"])),value:i._parse(new P(n,t,n.path,[r,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of r){const a=await n.key,i=await n.value;if("aborted"===a.status||"aborted"===i.status)return j;"dirty"!==a.status&&"dirty"!==i.status||t.dirty(),e.set(a.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of r){const a=n.key,i=n.value;if("aborted"===a.status||"aborted"===i.status)return j;"dirty"!==a.status&&"dirty"!==i.status||t.dirty(),e.set(a.value,i.value)}return{status:t.value,value:e}}}}Ne.create=(e,t,n)=>new Ne({valueType:t,keyType:e,typeName:Je.ZodMap,...M(n)});class Ae extends D{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==f.set)return w(n,{code:v.invalid_type,expected:f.set,received:n.parsedType}),j;const a=this._def;null!==a.minSize&&n.data.size<a.minSize.value&&(w(n,{code:v.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&n.data.size>a.maxSize.value&&(w(n,{code:v.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const i=this._def.valueType;function r(e){const n=new Set;for(const a of e){if("aborted"===a.status)return j;"dirty"===a.status&&t.dirty(),n.add(a.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>i._parse(new P(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>r(e))):r(s)}min(e,t){return new Ae({...this._def,minSize:{value:e,message:R.toString(t)}})}max(e,t){return new Ae({...this._def,maxSize:{value:e,message:R.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ae.create=(e,t)=>new Ae({valueType:e,minSize:null,maxSize:null,typeName:Je.ZodSet,...M(t)});class Ze extends D{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==f.function)return w(t,{code:v.invalid_type,expected:f.function,received:t.parsedType}),j;function n(e,n){return _({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b(),x].filter((e=>!!e)),issueData:{code:v.invalid_arguments,argumentsError:n}})}function a(e,n){return _({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b(),x].filter((e=>!!e)),issueData:{code:v.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},r=t.data;if(this._def.returns instanceof Me){const e=this;return E((async function(...t){const s=new g([]),o=await e._def.args.parseAsync(t,i).catch((e=>{throw s.addIssue(n(t,e)),s})),c=await Reflect.apply(r,this,o);return await e._def.returns._def.type.parseAsync(c,i).catch((e=>{throw s.addIssue(a(c,e)),s}))}))}{const e=this;return E((function(...t){const s=e._def.args.safeParse(t,i);if(!s.success)throw new g([n(t,s.error)]);const o=Reflect.apply(r,this,s.data),c=e._def.returns.safeParse(o,i);if(!c.success)throw new g([a(o,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ze({...this._def,args:Oe.create(e).rest(ge.create())})}returns(e){return new Ze({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Ze({args:e||Oe.create([]).rest(ge.create()),returns:t||ge.create(),typeName:Je.ZodFunction,...M(n)})}}class Re extends D{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Re.create=(e,t)=>new Re({getter:e,typeName:Je.ZodLazy,...M(t)});class ze extends D{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return w(t,{received:t.data,code:v.invalid_literal,expected:this._def.value}),j}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Ie(e,t){return new Pe({values:e,typeName:Je.ZodEnum,...M(t)})}ze.create=(e,t)=>new ze({value:e,typeName:Je.ZodLiteral,...M(t)});class Pe extends D{constructor(){super(...arguments),z.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return w(t,{expected:u.joinValues(n),received:t.parsedType,code:v.invalid_type}),j}if(A(this,z,"f")||Z(this,z,new Set(this._def.values),"f"),!A(this,z,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return w(t,{received:t.data,code:v.invalid_enum_value,options:n}),j}return E(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Pe.create(e,{...this._def,...t})}exclude(e,t=this._def){return Pe.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}z=new WeakMap,Pe.create=Ie;class Fe extends D{constructor(){super(...arguments),I.set(this,void 0)}_parse(e){const t=u.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==f.string&&n.parsedType!==f.number){const e=u.objectValues(t);return w(n,{expected:u.joinValues(e),received:n.parsedType,code:v.invalid_type}),j}if(A(this,I,"f")||Z(this,I,new Set(u.getValidEnumValues(this._def.values)),"f"),!A(this,I,"f").has(e.data)){const e=u.objectValues(t);return w(n,{received:n.data,code:v.invalid_enum_value,options:e}),j}return E(e.data)}get enum(){return this._def.values}}I=new WeakMap,Fe.create=(e,t)=>new Fe({values:e,typeName:Je.ZodNativeEnum,...M(t)});class Me extends D{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==f.promise&&!1===t.common.async)return w(t,{code:v.invalid_type,expected:f.promise,received:t.parsedType}),j;const n=t.parsedType===f.promise?t.data:Promise.resolve(t.data);return E(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Me.create=(e,t)=>new Me({type:e,typeName:Je.ZodPromise,...M(t)});class De extends D{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:e=>{w(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===a.type){const e=a.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return j;const a=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===a.status?j:"dirty"===a.status||"dirty"===t.value?T(a.value):a}));{if("aborted"===t.value)return j;const a=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===a.status?j:"dirty"===a.status||"dirty"===t.value?T(a.value):a}}if("refinement"===a.type){const e=e=>{const t=a.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===a.status?j:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?j:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===a.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!S(e))return e;const r=a.transform(e.value,i);if(r instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:r}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>S(e)?Promise.resolve(a.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}u.assertNever(a)}}De.create=(e,t,n)=>new De({schema:e,typeName:Je.ZodEffects,effect:t,...M(n)}),De.createWithPreprocess=(e,t,n)=>new De({schema:t,effect:{type:"preprocess",transform:e},typeName:Je.ZodEffects,...M(n)});class Le extends D{_parse(e){return this._getType(e)===f.undefined?E(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Le.create=(e,t)=>new Le({innerType:e,typeName:Je.ZodOptional,...M(t)});class qe extends D{_parse(e){return this._getType(e)===f.null?E(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qe.create=(e,t)=>new qe({innerType:e,typeName:Je.ZodNullable,...M(t)});class $e extends D{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===f.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}$e.create=(e,t)=>new $e({innerType:e,typeName:Je.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...M(t)});class Ue extends D{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return N(a)?a.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new g(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new g(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ue.create=(e,t)=>new Ue({innerType:e,typeName:Je.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...M(t)});class He extends D{_parse(e){if(this._getType(e)!==f.nan){const t=this._getOrReturnCtx(e);return w(t,{code:v.invalid_type,expected:f.nan,received:t.parsedType}),j}return{status:"valid",value:e.data}}}He.create=e=>new He({typeName:Je.ZodNaN,...M(e)});const Be=Symbol("zod_brand");class Ve extends D{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class We extends D{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?j:"dirty"===e.status?(t.dirty(),T(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?j:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new We({in:e,out:t,typeName:Je.ZodPipeline})}}class Ke extends D{_parse(e){const t=this._def.innerType._parse(e),n=e=>(S(e)&&(e.value=Object.freeze(e.value)),e);return N(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function Ge(e,t={},n){return e?ve.create().superRefine(((a,i)=>{var r,s;if(!e(a)){const e="function"==typeof t?t(a):"string"==typeof t?{message:t}:t,o=null===(s=null!==(r=e.fatal)&&void 0!==r?r:n)||void 0===s||s,c="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...c,fatal:o})}})):ve.create()}Ke.create=(e,t)=>new Ke({innerType:e,typeName:Je.ZodReadonly,...M(t)});const Ye={object:we.lazycreate};var Je;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Je||(Je={}));const Xe=oe.create,Qe=pe.create,et=He.create,tt=de.create,nt=le.create,at=ue.create,it=me.create,rt=fe.create,st=he.create,ot=ve.create,ct=ge.create,pt=xe.create,dt=ye.create,lt=be.create,ut=we.create,mt=we.strictCreate,ft=ke.create,ht=Te.create,vt=Ce.create,gt=Oe.create,xt=Se.create,yt=Ne.create,bt=Ae.create,_t=Ze.create,wt=Re.create,kt=ze.create,jt=Pe.create,Tt=Fe.create,Et=Me.create,Ct=De.create,Ot=Le.create,St=qe.create,Nt=De.createWithPreprocess,At=We.create,Zt={string:e=>oe.create({...e,coerce:!0}),number:e=>pe.create({...e,coerce:!0}),boolean:e=>le.create({...e,coerce:!0}),bigint:e=>de.create({...e,coerce:!0}),date:e=>ue.create({...e,coerce:!0})},Rt=j;var zt=Object.freeze({__proto__:null,defaultErrorMap:x,setErrorMap:function(e){y=e},getErrorMap:b,makeIssue:_,EMPTY_PATH:[],addIssueToContext:w,ParseStatus:k,INVALID:j,DIRTY:T,OK:E,isAborted:C,isDirty:O,isValid:S,isAsync:N,get util(){return u},get objectUtil(){return m},ZodParsedType:f,getParsedType:h,ZodType:D,datetimeRegex:ie,ZodString:oe,ZodNumber:pe,ZodBigInt:de,ZodBoolean:le,ZodDate:ue,ZodSymbol:me,ZodUndefined:fe,ZodNull:he,ZodAny:ve,ZodUnknown:ge,ZodNever:xe,ZodVoid:ye,ZodArray:be,ZodObject:we,ZodUnion:ke,ZodDiscriminatedUnion:Te,ZodIntersection:Ce,ZodTuple:Oe,ZodRecord:Se,ZodMap:Ne,ZodSet:Ae,ZodFunction:Ze,ZodLazy:Re,ZodLiteral:ze,ZodEnum:Pe,ZodNativeEnum:Fe,ZodPromise:Me,ZodEffects:De,ZodTransformer:De,ZodOptional:Le,ZodNullable:qe,ZodDefault:$e,ZodCatch:Ue,ZodNaN:He,BRAND:Be,ZodBranded:Ve,ZodPipeline:We,ZodReadonly:Ke,custom:Ge,Schema:D,ZodSchema:D,late:Ye,get ZodFirstPartyTypeKind(){return Je},coerce:Zt,any:ot,array:lt,bigint:tt,boolean:nt,date:at,discriminatedUnion:ht,effect:Ct,enum:jt,function:_t,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>Ge((t=>t instanceof e),t),intersection:vt,lazy:wt,literal:kt,map:yt,nan:et,nativeEnum:Tt,never:pt,null:st,nullable:St,number:Qe,object:ut,oboolean:()=>nt().optional(),onumber:()=>Qe().optional(),optional:Ot,ostring:()=>Xe().optional(),pipeline:At,preprocess:Nt,promise:Et,record:xt,set:bt,strictObject:mt,string:Xe,symbol:it,transformer:Ct,tuple:gt,undefined:rt,union:ft,unknown:ct,void:dt,NEVER:Rt,ZodIssueCode:v,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:g}),It=["interface","display","layout","module","panel","theme"],Pt=["hook","endpoint"],Ft=["operation"],Mt="directus:extension",Dt=zt.object({app:zt.string(),api:zt.string()}),Lt=zt.object({request:zt.optional(zt.object({urls:zt.array(zt.string()),methods:zt.array(zt.union([zt.literal("GET"),zt.literal("POST"),zt.literal("PATCH"),zt.literal("PUT"),zt.literal("DELETE")]))})),log:zt.optional(zt.object({})),sleep:zt.optional(zt.object({}))}),qt=zt.optional(zt.object({enabled:zt.boolean(),requestedScopes:Lt})),$t=zt.union([zt.object({type:zt.enum(Pt),name:zt.string(),source:zt.string()}),zt.object({type:zt.enum(It),name:zt.string(),source:zt.string()}),zt.object({type:zt.enum(Ft),name:zt.string(),source:Dt})]),Ut=zt.object({host:zt.string(),hidden:zt.boolean().optional()}),Ht=zt.object({type:zt.enum(It),path:zt.string(),source:zt.string()}),Bt=zt.object({type:zt.enum(Pt),path:zt.string(),source:zt.string(),sandbox:qt}),Vt=zt.object({type:zt.enum(Ft),path:Dt,source:Dt,sandbox:qt}),Wt=zt.object({type:zt.literal("bundle"),partial:zt.boolean().optional(),path:Dt,entries:zt.array($t)});zt.array($t);var Kt=Ut.and(zt.union([Ht,Bt,Vt,Wt]));zt.object({name:zt.string(),version:zt.string(),type:zt.union([zt.literal("module"),zt.literal("commonjs")]).optional(),description:zt.string().optional(),icon:zt.string().optional(),dependencies:zt.record(zt.string()).optional(),devDependencies:zt.record(zt.string()).optional(),[Mt]:Kt});var Gt=({filter:e,action:t,embed:n},{services:a})=>{n("head","\n    <script>\n    \n/**\n * @file This script dynamically loads and executes remote scripts based on route changes and DOM mutations.\n * @author [Your Name]\n * @version 1.0.0\n */\n\nlet isExecuting = false; // Flag to prevent concurrent executions\nlet isInitialized = false; // Flag to indicate if the script has been initialized\nlet lastHref = window.location.href; // Store the last visited URL\nlet cachedScriptContent = null; // Cache for storing the remote script content\nlet lastMutationTime = 0; // Timestamp of the last DOM mutation\nconst DEBOUNCE_TIME = 300; // Debounce time in milliseconds to prevent rapid executions\n\n/**\n * Fetches the remote script from the specified endpoint and caches it.\n * @returns {Promise<object|null>} A promise that resolves with the parsed JSON content of the script, or null if the script content is empty.\n * @throws {Error} If there is an error during the fetch operation.\n */\nfunction loadRemoteScript() {\n    if (cachedScriptContent && cachedScriptContent !== '') {\n        return Promise.resolve(cachedScriptContent); // Return cached content if available\n    }\n\n    return fetch('/customjs/scripts')\n        .then(response => response.text())\n        .then(scriptContent => {\n            if (scriptContent === '') {\n                return null; // Return null if the script content is empty\n            }\n            cachedScriptContent = JSON.parse(scriptContent); // Cache the script content\n            return JSON.parse(scriptContent);\n        })\n        .catch(error => {\n            console.error('Error loading remote script:', error);\n            throw error;\n        });\n}\n\n/**\n * Inserts the cached script into the DOM, either in the head or body.\n * The script is inserted based on the 'head' and 'body' keys in the cached script content.\n */\nfunction insertScript() {\n    if (!cachedScriptContent || cachedScriptContent === '') {\n        return; // Do nothing if there is no cached script content\n    }\n    const loadingTypes = ['head', 'body'];\n    \n    loadingTypes.forEach(loadingType => {\n        const scriptElement = document.getElementById('custom-embed-' + loadingType);\n        if (scriptElement) {\n            scriptElement.remove(); // Remove existing script element\n        }\n\n        const newScriptElement = document.createElement('script');\n        newScriptElement.id = 'custom-embed-' + loadingType;\n        const script = cachedScriptContent[loadingType];\n        \n        // Check if the script content is not null and not an empty string before inserting\n        if (!script || script.trim() === '') {\n            return;\n        }\n        \n        newScriptElement.innerHTML = script; // Insert the cached script content\n        \n        if (loadingType === 'head') {\n            // Insert into the end of the head tag\n            document.head.appendChild(newScriptElement);\n        } else {\n            // Insert into the body\n            document.body.appendChild(newScriptElement);\n        }\n    });\n}\n\n\n/**\n * Executes the script loading and insertion process in a safe manner, preventing concurrent executions.\n * Uses a flag 'isExecuting' to ensure that only one execution runs at a time.\n */\nasync function safeExecute() {\n    if (isExecuting) return; // Prevent concurrent executions\n    isExecuting = true;\n\n    try {\n        await loadRemoteScript();\n        insertScript(); // Dynamically insert the cached script\n        isInitialized = true;\n    } catch (error) {\n        console.error('Error during script execution:', error);\n    } finally {\n        setTimeout(() => {\n            isExecuting = false; // Reset the execution flag after a short delay\n        }, 100);\n    }\n}\n\n/**\n * Handles route changes by comparing the current URL with the last visited URL.\n * If the URLs are different, it triggers the 'safeExecute' function.\n */\nfunction handleRouteChange() {\n    const currentHref = window.location.href;\n    if (currentHref !== lastHref) {\n        lastHref = currentHref;\n        safeExecute();\n    }\n}\n\n// 1. Listen for history.pushState/replaceState events\nconst originalPushState = history.pushState;\nconst originalReplaceState = history.replaceState;\n\n/**\n * Overrides the original 'history.pushState' function to trigger route change handling.\n */\nhistory.pushState = function (...args) {\n    originalPushState.apply(history, args);\n    handleRouteChange();\n};\n\n/**\n * Overrides the original 'history.replaceState' function to trigger route change handling.\n */\nhistory.replaceState = function (...args) {\n    originalReplaceState.apply(history, args);\n    handleRouteChange();\n};\n\n// 2. Listen for popstate events (browser back/forward navigation)\nwindow.addEventListener('popstate', handleRouteChange);\n\n/**\n * Observes changes to the '#app' subtree and triggers script execution when relevant changes occur.\n */\nfunction observeAppDivChanges() {\n    const targetNode = document.getElementById('app');\n\n    if (!targetNode) {\n        console.error(\"idapp\");\n        return;\n    }\n\n    const config = {\n        childList: true,\n        subtree: true,\n        attributes: false,\n        characterData: false,\n    };\n\n    const observer = new MutationObserver((mutationsList) => {\n        const currentTime = Date.now();\n        if (currentTime - lastMutationTime < DEBOUNCE_TIME) {\n            return; // Debounce: ignore mutations that occur too quickly\n        }\n\n        lastMutationTime = currentTime; // Update the last mutation time\n\n        const hasRelevantChange = mutationsList.some(mutation => {\n            return mutation.type === 'childList';\n        });\n\n        if (hasRelevantChange && isInitialized) {\n            safeExecute();\n        }\n    });\n\n    observer.observe(targetNode, config);\n}\n\n// Initial execution (only once)\nif (!isInitialized) {\n    safeExecute();\n}\n\n// Call the listener method after the page is loaded\nwindow.onload = function () {\n    observeAppDivChanges();\n    // observeDynamicElements();\n};\n\n // Embed the script variable content directly into the head\n    <\/script>\n    <script id=\"custom-embed-header\"><\/script>\n    "),n("body",'\n    <script id="custom-embed-body"><\/script>\n    ');const{collectionsService:i,FieldsService:r}=a;e("settings.read",((e,t,n)=>{const a=n.accountability;return e=e.map((e=>{var t;1!=(null==a?void 0:a.admin)&&(e.module_bar=null==(t=e.module_bar)?void 0:t.map((e=>("ext-custom-scripts-page"===e.id&&(e.enabled=!1),e))));const i=new r({schema:n.schema,accountability:a});return null!=(null==e?void 0:e.ext_custom_scripts_page_settings)&&null!=(null==e?void 0:e.ext_custom_scripts_page_settings)||i.createField("directus_settings",{field:"ext_custom_scripts_page_settings",type:"json",meta:{special:["cast-json"],interface:"input-code",options:{template:""},display:null,display_options:null,readonly:!1,hidden:!0,sort:8,width:"full",translations:null,note:null,conditions:null,required:!1,group:null,validation:null,validation_message:null},schema:{data_type:"json",default_value:JSON.stringify({adminScript:!1,appScript:!1,isAdmin:{head:"console.log('head admin')",body:"console.log('body admin')"},notAdmin:{head:"console.log('head not admin')",body:"console.log('body not admin')"}}),generation_expression:null,max_length:null,numeric_precision:null,numeric_scale:null,is_generated:!1,is_nullable:!0,is_unique:!1,is_indexed:!1,is_primary_key:!1,has_auto_increment:!1,foreign_key_schema:null,foreign_key_table:null,foreign_key_column:null,comment:null}}),e})),e}))},Yt={id:"customjs",handler:(e,t)=>{const{services:n,getSchema:a}=t,{ItemsService:i}=n;e.get("/scripts",(async(e,t)=>{let n={adminScript:!1,appScript:!1,customPage:!1,isAdmin:{head:"",body:""},notAdmin:{head:"",body:""}};const r=e.accountability;void 0!==(null==r?void 0:r.user)&&null!==(null==r?void 0:r.user)||t.send("");const s=new i("directus_settings",{schema:await a(),accountability:r}),o=await s.readOne("1");return void 0!==(null==o?void 0:o.ext_custom_scripts_page_settings)&&(n=o.ext_custom_scripts_page_settings),(null==r?void 0:r.admin)?(n.adminScript&&t.send(n.isAdmin),t.send("")):(n.appScript&&t.send(n.notAdmin),t.send(""))}))}},Jt={exports:{}},Xt=function(e){return String(e).replace(en,tn).replace(Qt,encodeURI)}
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */,Qt=/(?:[^\x21\x23-\x3B\x3D\x3F-\x5F\x61-\x7A\x7C\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g,en=/(^|[^\uD800-\uDBFF])[\uDC00-\uDFFF]|[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/g,tn="$1$2";var nn=/["'&<>]/,an=function(e){var t,n=""+e,a=nn.exec(n);if(!a)return n;var i="",r=0,s=0;for(r=a.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==r&&(i+=n.substring(s,r)),s=r+1,i+=t}return s!==r?i+n.substring(s,r):i};var rn={exports:{}},sn=e,on=sn.parse,cn=sn.Url;
/*!
 * parseurl
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */function pn(e){var t=e.url;if(void 0!==t){var n=e._parsedUrl;return ln(t,n)?n:((n=dn(t))._raw=t,e._parsedUrl=n)}}function dn(e){if("string"!=typeof e||47!==e.charCodeAt(0))return on(e);for(var t=e,n=null,a=null,i=1;i<e.length;i++)switch(e.charCodeAt(i)){case 63:null===a&&(t=e.substring(0,i),n=e.substring(i+1),a=e.substring(i));break;case 9:case 10:case 12:case 13:case 32:case 35:case 160:case 65279:return on(e)}var r=void 0!==cn?new cn:{};return r.path=e,r.href=e,r.pathname=t,null!==a&&(r.query=n,r.search=a),r}function ln(e,t){return"object"==typeof t&&null!==t&&(void 0===cn||t instanceof cn)&&t._raw===e}rn.exports=pn,rn.exports.original=function(e){var t=e.originalUrl;if("string"!=typeof t)return pn(e);var n=e._parsedOriginalUrl;if(ln(t,n))return n;return n=dn(t),n._raw=t,e._parsedOriginalUrl=n};var un=rn.exports,mn={exports:{}},fn={exports:{}},hn=t.relative,vn=function(e){if(!e)throw new TypeError("argument namespace is required");var t=_n(En()[1])[0];function n(e){bn.call(n,e)}return n._file=t,n._ignored=function(e){if(process.noDeprecation)return!0;return xn(process.env.NO_DEPRECATION||"",e)}(e),n._namespace=e,n._traced=function(e){if(process.traceDeprecation)return!0;return xn(process.env.TRACE_DEPRECATION||"",e)}(e),n._warned=Object.create(null),n.function=On,n.property=Sn,n},gn=process.cwd();function xn(e,t){for(var n=e.split(/[ ,]+/),a=String(t).toLowerCase(),i=0;i<n.length;i++){var r=n[i];if(r&&("*"===r||r.toLowerCase()===a))return!0}return!1}function yn(e){var t=this.name+": "+this.namespace;this.message&&(t+=" deprecated "+this.message);for(var n=0;n<e.length;n++)t+="\n    at "+e[n].toString();return t}function bn(e,t){var n,a,i=(n=process,a="deprecation",("function"!=typeof n.listenerCount?n.listeners(a).length:n.listenerCount(a))>0);if(i||!this._ignored){var r,s,o,c,p=0,d=!1,l=En(),u=this._file;for(t?(c=t,(o=_n(l[1])).name=c.name,u=o[0]):o=c=_n(l[p=2]);p<l.length;p++)if((s=(r=_n(l[p]))[0])===u)d=!0;else if(s===this._file)u=this._file;else if(d)break;var m=r?c.join(":")+"__"+r.join(":"):void 0;if(void 0===m||!(m in this._warned)){this._warned[m]=!0;var f=e;if(f||(f=o!==c&&o.name?wn(o):wn(c)),i){var h=Nn(this._namespace,f,l.slice(p));process.emit("deprecation",h)}else{var v=(process.stderr.isTTY?jn:kn).call(this,f,r,l.slice(p));process.stderr.write(v+"\n","utf8")}}}}function _n(e){var t=e.getFileName()||"<anonymous>",n=e.getLineNumber(),a=e.getColumnNumber();e.isEval()&&(t=e.getEvalOrigin()+", "+t);var i=[t,n,a];return i.callSite=e,i.name=e.getFunctionName(),i}function wn(e){var t=e.callSite,n=e.name;n||(n="<anonymous@"+Tn(e)+">");var a=t.getThis(),i=a&&t.getTypeName();return"Object"===i&&(i=void 0),"Function"===i&&(i=a.name||i),i&&t.getMethodName()?i+"."+n:n}function kn(e,t,n){var a=(new Date).toUTCString()+" "+this._namespace+" deprecated "+e;if(this._traced){for(var i=0;i<n.length;i++)a+="\n    at "+n[i].toString();return a}return t&&(a+=" at "+Tn(t)),a}function jn(e,t,n){var a="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+e+"[39m";if(this._traced){for(var i=0;i<n.length;i++)a+="\n    [36mat "+n[i].toString()+"[39m";return a}return t&&(a+=" [36m"+Tn(t)+"[39m"),a}function Tn(e){return hn(gn,e[0])+":"+e[1]+":"+e[2]}function En(){var e=Error.stackTraceLimit,t={},n=Error.prepareStackTrace;Error.prepareStackTrace=Cn,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(t);var a=t.stack.slice(1);return Error.prepareStackTrace=n,Error.stackTraceLimit=e,a}function Cn(e,t){return t}function On(e,t){if("function"!=typeof e)throw new TypeError("argument fn must be a function");var n=function(e){for(var t="",n=0;n<e;n++)t+=", arg"+n;return t.substr(2)}(e.length),a=_n(En()[1]);return a.name=e.name,new Function("fn","log","deprecate","message","site",'"use strict"\nreturn function ('+n+") {log.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n}")(e,bn,this,t,a)}function Sn(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("argument obj must be object");var a=Object.getOwnPropertyDescriptor(e,t);if(!a)throw new TypeError("must call property on owner object");if(!a.configurable)throw new TypeError("property must be configurable");var i=this,r=_n(En()[1]);r.name=t,"value"in a&&(a=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t),a=n.value;return n.get=function(){return a},n.writable&&(n.set=function(e){return a=e}),delete n.value,delete n.writable,Object.defineProperty(e,t,n),n}(e,t));var s=a.get,o=a.set;"function"==typeof s&&(a.get=function(){return bn.call(i,n,r),s.apply(this,arguments)}),"function"==typeof o&&(a.set=function(){return bn.call(i,n,r),o.apply(this,arguments)}),Object.defineProperty(e,t,a)}function Nn(e,t,n){var a,i=new Error;return Object.defineProperty(i,"constructor",{value:Nn}),Object.defineProperty(i,"message",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(i,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(i,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(i,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==a?a:a=yn.call(this,n)},set:function(e){a=e}}),i}var An=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n]);return e});var Zn={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},Rn=In;
/*!
 * statuses
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */function zn(e){if(!Object.prototype.hasOwnProperty.call(In.message,e))throw new Error("invalid status code: "+e);return In.message[e]}function In(e){if("number"==typeof e)return zn(e);if("string"!=typeof e)throw new TypeError("code must be a number or string");var t=parseInt(e,10);return isNaN(t)?function(e){var t=e.toLowerCase();if(!Object.prototype.hasOwnProperty.call(In.code,t))throw new Error('invalid status message: "'+e+'"');return In.code[t]}(e):zn(t)}In.message=Zn,In.code=function(e){var t={};return Object.keys(e).forEach((function(n){var a=e[n],i=Number(n);t[a.toLowerCase()]=i})),t}(Zn),In.codes=function(e){return Object.keys(e).map((function(e){return Number(e)}))}(Zn),In.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},In.empty={204:!0,205:!0,304:!0},In.retry={502:!0,503:!0,504:!0};var Pn,Fn={exports:{}},Mn={exports:{}};try{var Dn=require("util");if("function"!=typeof Dn.inherits)throw"";Fn.exports=Dn.inherits}catch(e){Fn.exports=(Pn||(Pn=1,"function"==typeof Object.create?Mn.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Mn.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Mn.exports)}var Ln=Fn.exports,qn=function(e){return e.split(" ").map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join("").replace(/[^ _0-9a-z]/gi,"")}
/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */;
/*!
 * toidentifier
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */!function(e){var t,n=vn("http-errors"),a=An,i=Rn,r=Ln,s=qn;function o(e){return Number(String(e).charAt(0)+"00")}function c(e,t){var n=Object.getOwnPropertyDescriptor(e,"name");n&&n.configurable&&(n.value=t,Object.defineProperty(e,"name",n))}function p(e){return"Error"!==e.substr(-5)?e+"Error":e}e.exports=function e(){for(var t,a,r=500,s={},c=0;c<arguments.length;c++){var p=arguments[c],d=typeof p;if("object"===d&&p instanceof Error)r=(t=p).status||t.statusCode||r;else if("number"===d&&0===c)r=p;else if("string"===d)a=p;else{if("object"!==d)throw new TypeError("argument #"+(c+1)+" unsupported type "+d);s=p}}"number"==typeof r&&(r<400||r>=600)&&n("non-error status code; use only 4xx or 5xx status codes");("number"!=typeof r||!i.message[r]&&(r<400||r>=600))&&(r=500);var l=e[r]||e[o(r)];t||(t=l?new l(a):new Error(a||i.message[r]),Error.captureStackTrace(t,e));l&&t instanceof l&&t.status===r||(t.expose=r<500,t.status=t.statusCode=r);for(var u in s)"status"!==u&&"statusCode"!==u&&(t[u]=s[u]);return t},e.exports.HttpError=function(){function e(){throw new TypeError("cannot construct abstract class")}return r(e,Error),e}(),e.exports.isHttpError=(t=e.exports.HttpError,function(e){return!(!e||"object"!=typeof e)&&(e instanceof t||e instanceof Error&&"boolean"==typeof e.expose&&"number"==typeof e.statusCode&&e.status===e.statusCode)}),function(e,t,n){t.forEach((function(t){var d,l=s(i.message[t]);switch(o(t)){case 400:d=function(e,t,n){var s=p(t);function o(e){var t=null!=e?e:i.message[n],r=new Error(t);return Error.captureStackTrace(r,o),a(r,o.prototype),Object.defineProperty(r,"message",{enumerable:!0,configurable:!0,value:t,writable:!0}),Object.defineProperty(r,"name",{enumerable:!1,configurable:!0,value:s,writable:!0}),r}return r(o,e),c(o,s),o.prototype.status=n,o.prototype.statusCode=n,o.prototype.expose=!0,o}(n,l,t);break;case 500:d=function(e,t,n){var s=p(t);function o(e){var t=null!=e?e:i.message[n],r=new Error(t);return Error.captureStackTrace(r,o),a(r,o.prototype),Object.defineProperty(r,"message",{enumerable:!0,configurable:!0,value:t,writable:!0}),Object.defineProperty(r,"name",{enumerable:!1,configurable:!0,value:s,writable:!0}),r}return r(o,e),c(o,s),o.prototype.status=n,o.prototype.statusCode=n,o.prototype.expose=!1,o}(n,l,t)}d&&(e[t]=d,e[l]=d)}))}(e.exports,i.codes,e.exports.HttpError)}(fn);var $n,Un,Hn,Bn,Vn=fn.exports,Wn={exports:{}},Kn={exports:{}},Gn={exports:{}};function Yn(){if(Un)return $n;Un=1;var e=1e3,t=60*e,n=60*t,a=24*n,i=365.25*a;function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}return $n=function(s,o){o=o||{};var c=typeof s;if("string"===c&&s.length>0)return function(r){if((r=String(r)).length>100)return;var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(!s)return;var o=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return o*i;case"days":case"day":case"d":return o*a;case"hours":case"hour":case"hrs":case"hr":case"h":return o*n;case"minutes":case"minute":case"mins":case"min":case"m":return o*t;case"seconds":case"second":case"secs":case"sec":case"s":return o*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(s);if("number"===c&&!1===isNaN(s))return o.long?function(i){return r(i,a,"day")||r(i,n,"hour")||r(i,t,"minute")||r(i,e,"second")||i+" ms"}(s):function(i){if(i>=a)return Math.round(i/a)+"d";if(i>=n)return Math.round(i/n)+"h";if(i>=t)return Math.round(i/t)+"m";if(i>=e)return Math.round(i/e)+"s";return i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))},$n}function Jn(){return Hn||(Hn=1,function(e,t){var n;function a(e){function a(){if(a.enabled){var e=a,i=+new Date,r=i-(n||i);e.diff=r,e.prev=n,e.curr=i,n=i;for(var s=new Array(arguments.length),o=0;o<s.length;o++)s[o]=arguments[o];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,a){if("%%"===n)return n;c++;var i=t.formatters[a];if("function"==typeof i){var r=s[c];n=i.call(e,r),s.splice(c,1),c--}return n})),t.formatArgs.call(e,s),(a.log||t.log||console.log.bind(console)).apply(e,s)}}return a.namespace=e,a.enabled=t.enabled(e),a.useColors=t.useColors(),a.color=function(e){var n,a=0;for(n in e)a=(a<<5)-a+e.charCodeAt(n),a|=0;return t.colors[Math.abs(a)%t.colors.length]}(e),"function"==typeof t.init&&t.init(a),a}(t=Gn.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),a=n.length,i=0;i<a;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,a;for(n=0,a=t.skips.length;n<a;n++)if(t.skips[n].test(e))return!1;for(n=0,a=t.names.length;n<a;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=Yn(),t.names=[],t.skips=[],t.formatters={}}(0,Gn.exports)),Gn.exports}var Xn,Qn={exports:{}};"undefined"!=typeof process&&"renderer"===process.type?Wn.exports=(Bn||(Bn=1,function(e,t){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=Kn.exports=Jn()).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var a="color: "+this.color;e.splice(1,0,a,"color: inherit");var i=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(r=i))})),e.splice(r,0,a)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}(0,Kn.exports)),Kn.exports):Wn.exports=(Xn||(Xn=1,function(e,t){var i=n,o=a;(t=Qn.exports=Jn()).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),a=0;a<n.length;a++)e.inspectOpts[n[a]]=t.inspectOpts[n[a]]},t.log=function(){return p.write(o.format.apply(o,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var a=this.color,i="  [3"+a+";1m"+n+" [0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push("[3"+a+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=d,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):i.isatty(c)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),a=process.env[t];return a=!!/^(yes|on|true|enabled)$/i.test(a)||!/^(no|off|false|disabled)$/i.test(a)&&("null"===a?null:Number(a)),e[n]=a,e}),{});var c=parseInt(process.env.DEBUG_FD,10)||2;1!==c&&2!==c&&o.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var p=1===c?process.stdout:2===c?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new i.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":(t=new r.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":(t=new s.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(c);function d(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)},t.enable(d())}(0,Qn.exports)),Qn.exports);var ea=Wn.exports,ta=o.EventEmitter,na=r.ReadStream,aa=c,ia=p,ra=function(e,t){!function(e){return e instanceof na}(e)?function(e){return e instanceof ia.Gzip||e instanceof ia.Gunzip||e instanceof ia.Deflate||e instanceof ia.DeflateRaw||e instanceof ia.Inflate||e instanceof ia.InflateRaw||e instanceof ia.Unzip}(e)?function(e){"function"==typeof e.destroy?e._binding?(e.destroy(),e._processing?(e._needDrain=!0,e.once("drain",oa)):e._binding.clear()):e._destroy&&e._destroy!==aa.Transform.prototype._destroy?e.destroy():e._destroy&&"function"==typeof e.close?(e.destroyed=!0,e.close()):e.destroy():"function"==typeof e.close&&function(e){if(!0===e._hadError){var t=null===e._binding?"_binding":"_handle";e[t]={close:function(){this[t]=null}}}e.close()}(e)}(e):function(e){return e instanceof aa&&"function"==typeof e.destroy}(e)&&e.destroy():function(e){e.destroy(),"function"==typeof e.close&&e.on("open",ca)}(e);n=e,n instanceof ta&&t&&(e.removeAllListeners("error"),e.addListener("error",sa));var n;return e};
/*!
 * destroy
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */function sa(){}function oa(){this._binding.clear()}function ca(){"number"==typeof this.fd&&this.close()}
/*!
 * encodeurl
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var pa=function(e){return String(e).replace(la,ua).replace(da,encodeURI)}
/*!
 * etag
 * Copyright(c) 2014-2016 Douglas Christopher Wilson
 * MIT Licensed
 */,da=/(?:[^\x21\x25\x26-\x3B\x3D\x3F-\x5B\x5D\x5F\x61-\x7A\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g,la=/(^|[^\uD800-\uDBFF])[\uDC00-\uDFFF]|[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/g,ua="$1$2";var ma=function(e,t){if(null==e)throw new TypeError("argument entity is required");var n=function(e){if("function"==typeof ha&&e instanceof ha)return!0;return e&&"object"==typeof e&&"ctime"in e&&"[object Date]"===va.call(e.ctime)&&"mtime"in e&&"[object Date]"===va.call(e.mtime)&&"ino"in e&&"number"==typeof e.ino&&"size"in e&&"number"==typeof e.size}(e),a=t&&"boolean"==typeof t.weak?t.weak:n;if(!n&&"string"!=typeof e&&!Buffer.isBuffer(e))throw new TypeError("argument entity must be string, Buffer, or fs.Stats");var i=n?(r=e,s=r.mtime.getTime().toString(16),'"'+r.size.toString(16)+"-"+s+'"'):function(e){if(0===e.length)return'"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk"';var t=fa.createHash("sha1").update(e,"utf8").digest("base64").substring(0,27),n="string"==typeof e?Buffer.byteLength(e,"utf8"):e.length;return'"'+n.toString(16)+"-"+t+'"'}(e);var r,s;
/*!
 * fresh
 * Copyright(c) 2012 TJ Holowaychuk
 * Copyright(c) 2016-2017 Douglas Christopher Wilson
 * MIT Licensed
 */return a?"W/"+i:i},fa=d,ha=r.Stats,va=Object.prototype.toString;var ga=/(?:^|,)\s*?no-cache\s*?(?:,|$)/,xa=function(e,t){var n=e["if-modified-since"],a=e["if-none-match"];if(!n&&!a)return!1;var i=e["cache-control"];if(i&&ga.test(i))return!1;if(a&&"*"!==a){var r=t.etag;if(!r)return!1;for(var s=!0,o=function(e){for(var t=0,n=[],a=0,i=0,r=e.length;i<r;i++)switch(e.charCodeAt(i)){case 32:a===t&&(a=t=i+1);break;case 44:n.push(e.substring(a,t)),a=t=i+1;break;default:t=i+1}return n.push(e.substring(a,t)),n}(a),c=0;c<o.length;c++){var p=o[c];if(p===r||p==="W/"+r||"W/"+p===r){s=!1;break}}if(s)return!1}if(n){var d=t["last-modified"];if(!(d&&ya(d)<=ya(n)))return!1}return!0};function ya(e){var t=e&&Date.parse(e);return"number"==typeof t?t:NaN}var ba=r;function _a(){this.types=Object.create(null),this.extensions=Object.create(null)}_a.prototype.define=function(e){for(var t in e){for(var n=e[t],a=0;a<n.length;a++)process.env.DEBUG_MIME&&this.types[n[a]]&&console.warn((this._loading||"define()").replace(/.*\//,""),'changes "'+n[a]+'" extension type from '+this.types[n[a]]+" to "+t),this.types[n[a]]=t;this.extensions[t]||(this.extensions[t]=n[0])}},_a.prototype.load=function(e){this._loading=e;var t={};ba.readFileSync(e,"ascii").split(/[\r\n]+/).forEach((function(e){var n=e.replace(/\s*#.*|^\s*|\s*$/g,"").split(/\s+/);t[n.shift()]=n})),this.define(t),this._loading=null},_a.prototype.lookup=function(e,t){var n=e.replace(/^.*[\.\/\\]/,"").toLowerCase();return this.types[n]||t||this.default_type},_a.prototype.extension=function(e){var t=e.match(/^\s*([^;\s]*)(?:;|\s|$)/)[1].toLowerCase();return this.extensions[t]};var wa=new _a;wa.define({"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/font-woff":[],"application/font-woff2":[],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/prs.cww":["cww"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":[],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":[],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":[],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":[],"application/x-msdownload":["com","bat"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["wmf","emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":[],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":[],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":[],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/wav":["wav"],"audio/wave":[],"audio/webm":["weba"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":[],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":[],"audio/x-wav":[],"audio/xm":["xm"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/ktx":["ktx"],"image/png":["png"],"image/prs.btif":["btif"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":[],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/webp":["webp"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":[],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/rfc822":["eml","mime"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.vtu":["vtu"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["x3db","x3dbz"],"model/x3d+vrml":["x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/hjson":["hjson"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/prs.lines.tag":["dsc"],"text/richtext":["rtx"],"text/rtf":[],"text/sgml":["sgml","sgm"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/vtt":["vtt"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":[],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"text/xml":[],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}),wa.default_type=wa.lookup("bin"),wa.Mime=_a,wa.charsets={lookup:function(e,t){return/^text\/|^application\/(javascript|json)/.test(e)?"UTF-8":t}};var ka=wa,ja=1e3,Ta=60*ja,Ea=60*Ta,Ca=24*Ea,Oa=7*Ca,Sa=365.25*Ca;function Na(e,t,n,a){var i=t>=1.5*n;return Math.round(e/n)+" "+a+(i?"s":"")}var Aa={exports:{}},Za=function(e,t){if(!Array.isArray(e))throw new TypeError("arg must be an array of [ee, events...] arrays");for(var n=[],a=0;a<e.length;a++){var i=e[a];if(!Array.isArray(i)||i.length<2)throw new TypeError("each array member must be [ee, events...]");for(var r=i[0],s=1;s<i.length;s++){var o=i[s],c=Ra(o,p);r.on(o,c),n.push({ee:r,event:o,fn:c})}}function p(){d(),t.apply(null,arguments)}function d(){for(var e,t=0;t<n.length;t++)(e=n[t]).ee.removeListener(e.event,e.fn)}function l(e){t=e}return l.cancel=d,l};
/*!
 * ee-first
 * Copyright(c) 2014 Jonathan Ong
 * MIT Licensed
 */function Ra(e,t){return function(n){for(var a=new Array(arguments.length),i="error"===e?n:null,r=0;r<a.length;r++)a[r]=arguments[r];t(i,this,e,a)}}
/*!
 * on-finished
 * Copyright(c) 2013 Jonathan Ong
 * Copyright(c) 2014 Douglas Christopher Wilson
 * MIT Licensed
 */Aa.exports=function(e,t){if(!1!==Fa(e))return Pa(t,null,e),e;return function(e,t){var n=e.__onFinished;n&&n.queue||(n=e.__onFinished=function(e){function t(n){if(e.__onFinished===t&&(e.__onFinished=null),t.queue){var a=t.queue;t.queue=null;for(var i=0;i<a.length;i++)a[i](n,e)}}return t.queue=[],t}(e),function(e,t){var n,a,i=!1;function r(e){n.cancel(),a.cancel(),i=!0,t(e)}function s(t){e.removeListener("socket",s),i||n===a&&(a=Ia([[t,"error","close"]],r))}if(n=a=Ia([[e,"end","finish"]],r),e.socket)return void s(e.socket);e.on("socket",s),void 0===e.socket&&function(e,t){var n=e.assignSocket;if("function"!=typeof n)return;e.assignSocket=function(e){n.call(this,e),t(e)}}(e,s)}(e,n));n.queue.push(t)}(e,function(e){var t;za.AsyncResource&&(t=new za.AsyncResource(e.name||"bound-anonymous-fn"));if(!t||!t.runInAsyncScope)return e;return t.runInAsyncScope.bind(t,e,null)}(t)),e},Aa.exports.isFinished=Fa;var za=function(){try{return require("async_hooks")}catch(e){return{}}}(),Ia=Za,Pa="function"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function Fa(e){var t=e.socket;return"boolean"==typeof e.finished?Boolean(e.finished||t&&!t.writable):"boolean"==typeof e.complete?Boolean(e.upgrade||!t||!t.readable||e.complete&&!e.readable):void 0}var Ma=Aa.exports,Da=function(e,t,n){if("string"!=typeof t)throw new TypeError("argument str must be a string");var a=t.indexOf("=");if(-1===a)return-2;var i=t.slice(a+1).split(","),r=[];r.type=t.slice(0,a);for(var s=0;s<i.length;s++){var o=i[s].split("-"),c=parseInt(o[0],10),p=parseInt(o[1],10);isNaN(c)?(c=e-p,p=e-1):isNaN(p)&&(p=e-1),p>e-1&&(p=e-1),isNaN(c)||isNaN(p)||c>p||c<0||r.push({start:c,end:p})}if(r.length<1)return-1;return n&&n.combine?function(e){for(var t=e.map(La).sort(Ua),n=0,a=1;a<t.length;a++){var i=t[a],r=t[n];i.start>r.end+1?t[++n]=i:i.end>r.end&&(r.end=i.end,r.index=Math.min(r.index,i.index))}t.length=n+1;var s=t.sort($a).map(qa);return s.type=e.type,s}(r):r};
/*!
 * range-parser
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015-2016 Douglas Christopher Wilson
 * MIT Licensed
 */function La(e,t){return{start:e.start,end:e.end,index:t}}function qa(e){return{start:e.start,end:e.end}}function $a(e,t){return e.index-t.index}function Ua(e,t){return e.start-t.start}
/*!
 * send
 * Copyright(c) 2012 TJ Holowaychuk
 * Copyright(c) 2014-2022 Douglas Christopher Wilson
 * MIT Licensed
 */var Ha=Vn,Ba=ea("send"),Va=vn("send"),Wa=ra,Ka=pa,Ga=an,Ya=ma,Ja=xa,Xa=r,Qa=ka,ei=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*Sa;case"weeks":case"week":case"w":return n*Oa;case"days":case"day":case"d":return n*Ca;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ea;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ta;case"seconds":case"second":case"secs":case"sec":case"s":return n*ja;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=Ca)return Na(e,t,Ca,"day");if(t>=Ea)return Na(e,t,Ea,"hour");if(t>=Ta)return Na(e,t,Ta,"minute");if(t>=ja)return Na(e,t,ja,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Ca)return Math.round(e/Ca)+"d";if(t>=Ea)return Math.round(e/Ea)+"h";if(t>=Ta)return Math.round(e/Ta)+"m";if(t>=ja)return Math.round(e/ja)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},ti=Ma,ni=Da,ai=t,ii=Rn,ri=c,si=a,oi=ai.extname,ci=ai.join,pi=ai.normalize,di=ai.resolve,li=ai.sep,ui=/^ *bytes=/,mi=31536e6,fi=/(?:^|[\\/])\.\.(?:[\\/]|$)/;function hi(e,t,n){ri.call(this);var a=n||{};if(this.options=a,this.path=t,this.req=e,this._acceptRanges=void 0===a.acceptRanges||Boolean(a.acceptRanges),this._cacheControl=void 0===a.cacheControl||Boolean(a.cacheControl),this._etag=void 0===a.etag||Boolean(a.etag),this._dotfiles=void 0!==a.dotfiles?a.dotfiles:"ignore","ignore"!==this._dotfiles&&"allow"!==this._dotfiles&&"deny"!==this._dotfiles)throw new TypeError('dotfiles option must be "allow", "deny", or "ignore"');this._hidden=Boolean(a.hidden),void 0!==a.hidden&&Va("hidden: use dotfiles: '"+(this._hidden?"allow":"ignore")+"' instead"),void 0===a.dotfiles&&(this._dotfiles=void 0),this._extensions=void 0!==a.extensions?yi(a.extensions,"extensions option"):[],this._immutable=void 0!==a.immutable&&Boolean(a.immutable),this._index=void 0!==a.index?yi(a.index,"index option"):["index.html"],this._lastModified=void 0===a.lastModified||Boolean(a.lastModified),this._maxage=a.maxAge||a.maxage,this._maxage="string"==typeof this._maxage?ei(this._maxage):Number(this._maxage),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),mi),this._root=a.root?di(a.root):null,!this._root&&a.from&&this.from(a.from)}function vi(e,t,n){return e+" "+(n?n.start+"-"+n.end:"*")+"/"+t}function gi(e,t){return'<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<title>'+e+"</title>\n</head>\n<body>\n<pre>"+t+"</pre>\n</body>\n</html>\n"}function xi(e,t){return("function"!=typeof e.listenerCount?e.listeners(t).length:e.listenerCount(t))>0}function yi(e,t){for(var n=[].concat(e||[]),a=0;a<n.length;a++)if("string"!=typeof n[a])throw new TypeError(t+" must be array of strings or false");return n}function bi(e){var t=e&&Date.parse(e);return"number"==typeof t?t:NaN}mn.exports=function(e,t,n){return new hi(e,t,n)},mn.exports.mime=Qa,si.inherits(hi,ri),hi.prototype.etag=Va.function((function(e){return this._etag=Boolean(e),Ba("etag %s",this._etag),this}),"send.etag: pass etag as option"),hi.prototype.hidden=Va.function((function(e){return this._hidden=Boolean(e),this._dotfiles=void 0,Ba("hidden %s",this._hidden),this}),"send.hidden: use dotfiles option"),hi.prototype.index=Va.function((function(e){var t=e?yi(e,"paths argument"):[];return Ba("index %o",e),this._index=t,this}),"send.index: pass index as option"),hi.prototype.root=function(e){return this._root=di(String(e)),Ba("root %s",this._root),this},hi.prototype.from=Va.function(hi.prototype.root,"send.from: pass root as option"),hi.prototype.root=Va.function(hi.prototype.root,"send.root: pass root as option"),hi.prototype.maxage=Va.function((function(e){return this._maxage="string"==typeof e?ei(e):Number(e),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),mi),Ba("max-age %d",this._maxage),this}),"send.maxage: pass maxAge as option"),hi.prototype.error=function(e,t){if(xi(this,"error"))return this.emit("error",function(e,t){if(!t)return Ha(e);return t instanceof Error?Ha(e,t,{expose:!1}):Ha(e,t)}(e,t));var n=this.res,a=ii.message[e]||String(e),i=gi("Error",Ga(a));!function(e){for(var t=function(e){return"function"!=typeof e.getHeaderNames?Object.keys(e._headers||{}):e.getHeaderNames()}(e),n=0;n<t.length;n++)e.removeHeader(t[n])}(n),t&&t.headers&&function(e,t){for(var n=Object.keys(t),a=0;a<n.length;a++){var i=n[a];e.setHeader(i,t[i])}}(n,t.headers),n.statusCode=e,n.setHeader("Content-Type","text/html; charset=UTF-8"),n.setHeader("Content-Length",Buffer.byteLength(i)),n.setHeader("Content-Security-Policy","default-src 'none'"),n.setHeader("X-Content-Type-Options","nosniff"),n.end(i)},hi.prototype.hasTrailingSlash=function(){return"/"===this.path[this.path.length-1]},hi.prototype.isConditionalGET=function(){return this.req.headers["if-match"]||this.req.headers["if-unmodified-since"]||this.req.headers["if-none-match"]||this.req.headers["if-modified-since"]},hi.prototype.isPreconditionFailure=function(){var e=this.req,t=this.res,n=e.headers["if-match"];if(n){var a=t.getHeader("ETag");return!a||"*"!==n&&function(e){for(var t=0,n=[],a=0,i=0,r=e.length;i<r;i++)switch(e.charCodeAt(i)){case 32:a===t&&(a=t=i+1);break;case 44:a!==t&&n.push(e.substring(a,t)),a=t=i+1;break;default:t=i+1}a!==t&&n.push(e.substring(a,t));return n}(n).every((function(e){return e!==a&&e!=="W/"+a&&"W/"+e!==a}))}var i=bi(e.headers["if-unmodified-since"]);if(!isNaN(i)){var r=bi(t.getHeader("Last-Modified"));return isNaN(r)||r>i}return!1},hi.prototype.removeContentHeaderFields=function(){var e=this.res;e.removeHeader("Content-Encoding"),e.removeHeader("Content-Language"),e.removeHeader("Content-Length"),e.removeHeader("Content-Range"),e.removeHeader("Content-Type")},hi.prototype.notModified=function(){var e=this.res;Ba("not modified"),this.removeContentHeaderFields(),e.statusCode=304,e.end()},hi.prototype.headersAlreadySent=function(){var e=new Error("Can't set headers after they are sent.");Ba("headers already sent"),this.error(500,e)},hi.prototype.isCachable=function(){var e=this.res.statusCode;return e>=200&&e<300||304===e},hi.prototype.onStatError=function(e){switch(e.code){case"ENAMETOOLONG":case"ENOENT":case"ENOTDIR":this.error(404,e);break;default:this.error(500,e)}},hi.prototype.isFresh=function(){return Ja(this.req.headers,{etag:this.res.getHeader("ETag"),"last-modified":this.res.getHeader("Last-Modified")})},hi.prototype.isRangeFresh=function(){var e=this.req.headers["if-range"];if(!e)return!0;if(-1!==e.indexOf('"')){var t=this.res.getHeader("ETag");return Boolean(t&&-1!==e.indexOf(t))}return bi(this.res.getHeader("Last-Modified"))<=bi(e)},hi.prototype.redirect=function(e){var t=this.res;if(xi(this,"directory"))this.emit("directory",t,e);else if(this.hasTrailingSlash())this.error(403);else{var n=Ka(function(e){for(var t=0;t<e.length&&"/"===e[t];t++);return t>1?"/"+e.substr(t):e}(this.path+"/")),a=gi("Redirecting","Redirecting to "+Ga(n));t.statusCode=301,t.setHeader("Content-Type","text/html; charset=UTF-8"),t.setHeader("Content-Length",Buffer.byteLength(a)),t.setHeader("Content-Security-Policy","default-src 'none'"),t.setHeader("X-Content-Type-Options","nosniff"),t.setHeader("Location",n),t.end(a)}},hi.prototype.pipe=function(e){var t=this._root;this.res=e;var n,a=function(e){try{return decodeURIComponent(e)}catch(e){return-1}}(this.path);if(-1===a)return this.error(400),e;if(~a.indexOf("\0"))return this.error(400),e;if(null!==t){if(a&&(a=pi("."+li+a)),fi.test(a))return Ba('malicious path "%s"',a),this.error(403),e;n=a.split(li),a=pi(ci(t,a))}else{if(fi.test(a))return Ba('malicious path "%s"',a),this.error(403),e;n=pi(a).split(li),a=di(a)}if(function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.length>1&&"."===n[0])return!0}return!1}(n)){var i=this._dotfiles;switch(void 0===i&&(i="."===n[n.length-1][0]?this._hidden?"allow":"ignore":"allow"),Ba('%s dotfile "%s"',i,a),i){case"allow":break;case"deny":return this.error(403),e;default:return this.error(404),e}}return this._index.length&&this.hasTrailingSlash()?(this.sendIndex(a),e):(this.sendFile(a),e)},hi.prototype.send=function(e,t){var n=t.size,a=this.options,i={},r=this.res,s=this.req,o=s.headers.range,c=a.start||0;if(function(e){return"boolean"!=typeof e.headersSent?Boolean(e._header):e.headersSent}(r))this.headersAlreadySent();else{if(Ba('pipe "%s"',e),this.setHeader(e,t),this.type(e),this.isConditionalGET()){if(this.isPreconditionFailure())return void this.error(412);if(this.isCachable()&&this.isFresh())return void this.notModified()}if(n=Math.max(0,n-c),void 0!==a.end){var p=a.end-c+1;n>p&&(n=p)}if(this._acceptRanges&&ui.test(o)){if(o=ni(n,o,{combine:!0}),this.isRangeFresh()||(Ba("range stale"),o=-2),-1===o)return Ba("range unsatisfiable"),r.setHeader("Content-Range",vi("bytes",n)),this.error(416,{headers:{"Content-Range":r.getHeader("Content-Range")}});-2!==o&&1===o.length&&(Ba("range %j",o),r.statusCode=206,r.setHeader("Content-Range",vi("bytes",n,o[0])),c+=o[0].start,n=o[0].end-o[0].start+1)}for(var d in a)i[d]=a[d];i.start=c,i.end=Math.max(c,c+n-1),r.setHeader("Content-Length",n),"HEAD"!==s.method?this.stream(e,i):r.end()}},hi.prototype.sendFile=function(e){var t=0,n=this;function a(i){if(n._extensions.length<=t)return i?n.onStatError(i):n.error(404);var r=e+"."+n._extensions[t++];Ba('stat "%s"',r),Xa.stat(r,(function(e,t){return e?a(e):t.isDirectory()?a():(n.emit("file",r,t),void n.send(r,t))}))}Ba('stat "%s"',e),Xa.stat(e,(function(t,i){return t&&"ENOENT"===t.code&&!oi(e)&&e[e.length-1]!==li?a(t):t?n.onStatError(t):i.isDirectory()?n.redirect(e):(n.emit("file",e,i),void n.send(e,i))}))},hi.prototype.sendIndex=function(e){var t=-1,n=this;!function a(i){if(++t>=n._index.length)return i?n.onStatError(i):n.error(404);var r=ci(e,n._index[t]);Ba('stat "%s"',r),Xa.stat(r,(function(e,t){return e?a(e):t.isDirectory()?a():(n.emit("file",r,t),void n.send(r,t))}))}()},hi.prototype.stream=function(e,t){var n=this,a=this.res,i=Xa.createReadStream(e,t);function r(){Wa(i,!0)}this.emit("stream",i),i.pipe(a),ti(a,r),i.on("error",(function(e){r(),n.onStatError(e)})),i.on("end",(function(){n.emit("end")}))},hi.prototype.type=function(e){var t=this.res;if(!t.getHeader("Content-Type")){var n=Qa.lookup(e);if(n){var a=Qa.charsets.lookup(n);Ba("content-type %s",n),t.setHeader("Content-Type",n+(a?"; charset="+a:""))}else Ba("no content-type")}},hi.prototype.setHeader=function(e,t){var n=this.res;if(this.emit("headers",n,e,t),this._acceptRanges&&!n.getHeader("Accept-Ranges")&&(Ba("accept ranges"),n.setHeader("Accept-Ranges","bytes")),this._cacheControl&&!n.getHeader("Cache-Control")){var a="public, max-age="+Math.floor(this._maxage/1e3);this._immutable&&(a+=", immutable"),Ba("cache-control %s",a),n.setHeader("Cache-Control",a)}if(this._lastModified&&!n.getHeader("Last-Modified")){var i=t.mtime.toUTCString();Ba("modified %s",i),n.setHeader("Last-Modified",i)}if(this._etag&&!n.getHeader("ETag")){var r=Ya(t);Ba("etag %s",r),n.setHeader("ETag",r)}};var _i=mn.exports,wi=Xt,ki=an,ji=un,Ti=t.resolve,Ei=_i,Ci=e;
/*!
 * serve-static
 * Copyright(c) 2010 Sencha Inc.
 * Copyright(c) 2011 TJ Holowaychuk
 * Copyright(c) 2014-2016 Douglas Christopher Wilson
 * MIT Licensed
 */Jt.exports=function(e,t){if(!e)throw new TypeError("root path required");if("string"!=typeof e)throw new TypeError("root path must be a string");var n=Object.create(t||null),a=!1!==n.fallthrough,i=!1!==n.redirect,r=n.setHeaders;if(r&&"function"!=typeof r)throw new TypeError("option setHeaders must be function");n.maxage=n.maxage||n.maxAge||0,n.root=Ti(e);var s=i?function(e){if(this.hasTrailingSlash())this.error(404);else{var t=ji.original(this.req);t.path=null,t.pathname=function(e){for(var t=0;t<e.length&&47===e.charCodeAt(t);t++);return t>1?"/"+e.substr(t):e}(t.pathname+"/");var n,a,i=wi(Ci.format(t)),r=(n="Redirecting",a="Redirecting to "+ki(i),'<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<title>'+n+"</title>\n</head>\n<body>\n<pre>"+a+"</pre>\n</body>\n</html>\n");e.statusCode=301,e.setHeader("Content-Type","text/html; charset=UTF-8"),e.setHeader("Content-Length",Buffer.byteLength(r)),e.setHeader("Content-Security-Policy","default-src 'none'"),e.setHeader("X-Content-Type-Options","nosniff"),e.setHeader("Location",i),e.end(r)}}:function(){this.error(404)};return function(e,t,i){if("GET"!==e.method&&"HEAD"!==e.method)return a?i():(t.statusCode=405,t.setHeader("Allow","GET, HEAD"),t.setHeader("Content-Length","0"),void t.end());var o=!a,c=ji.original(e),p=ji(e).pathname;"/"===p&&"/"!==c.pathname.substr(-1)&&(p="");var d=Ei(e,p,n);d.on("directory",s),r&&d.on("headers",r),a&&d.on("file",(function(){o=!0})),d.on("error",(function(e){!o&&e.statusCode<500?i():i(e)})),d.pipe(t)}},Jt.exports.mime=Ei.mime;var Oi=l(Jt.exports),Si=Uint8Array,Ni=Uint16Array,Ai=Int32Array,Zi=new Si([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ri=new Si([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zi=new Si([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ii=function(e,t){for(var n=new Ni(31),a=0;a<31;++a)n[a]=t+=1<<e[a-1];var i=new Ai(n[30]);for(a=1;a<30;++a)for(var r=n[a];r<n[a+1];++r)i[r]=r-n[a]<<5|a;return{b:n,r:i}},Pi=Ii(Zi,2),Fi=Pi.b,Mi=Pi.r;Fi[28]=258,Mi[258]=28;for(var Di=Ii(Ri,0).r,Li=new Ni(32768),qi=0;qi<32768;++qi){var $i=(43690&qi)>>1|(21845&qi)<<1;$i=(61680&($i=(52428&$i)>>2|(13107&$i)<<2))>>4|(3855&$i)<<4,Li[qi]=((65280&$i)>>8|(255&$i)<<8)>>1}var Ui=function(e,t,n){for(var a=e.length,i=0,r=new Ni(t);i<a;++i)e[i]&&++r[e[i]-1];var s,o=new Ni(t);for(i=1;i<t;++i)o[i]=o[i-1]+r[i-1]<<1;if(n){s=new Ni(1<<t);var c=15-t;for(i=0;i<a;++i)if(e[i])for(var p=i<<4|e[i],d=t-e[i],l=o[e[i]-1]++<<d,u=l|(1<<d)-1;l<=u;++l)s[Li[l]>>c]=p}else for(s=new Ni(a),i=0;i<a;++i)e[i]&&(s[i]=Li[o[e[i]-1]++]>>15-e[i]);return s},Hi=new Si(288);for(qi=0;qi<144;++qi)Hi[qi]=8;for(qi=144;qi<256;++qi)Hi[qi]=9;for(qi=256;qi<280;++qi)Hi[qi]=7;for(qi=280;qi<288;++qi)Hi[qi]=8;var Bi=new Si(32);for(qi=0;qi<32;++qi)Bi[qi]=5;var Vi=Ui(Hi,9,0),Wi=Ui(Bi,5,0),Ki=function(e){return(e+7)/8|0},Gi=function(e,t,n){n<<=7&t;var a=t/8|0;e[a]|=n,e[a+1]|=n>>8},Yi=function(e,t,n){n<<=7&t;var a=t/8|0;e[a]|=n,e[a+1]|=n>>8,e[a+2]|=n>>16},Ji=function(e,t){for(var n=[],a=0;a<e.length;++a)e[a]&&n.push({s:a,f:e[a]});var i=n.length,r=n.slice();if(!i)return{t:ir,l:0};if(1==i){var s=new Si(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var o=n[0],c=n[1],p=0,d=1,l=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=i-1;)o=n[n[p].f<n[l].f?p++:l++],c=n[p!=d&&n[p].f<n[l].f?p++:l++],n[d++]={s:-1,f:o.f+c.f,l:o,r:c};var u=r[0].s;for(a=1;a<i;++a)r[a].s>u&&(u=r[a].s);var m=new Ni(u+1),f=Xi(n[d-1],m,0);if(f>t){a=0;var h=0,v=f-t,g=1<<v;for(r.sort((function(e,t){return m[t.s]-m[e.s]||e.f-t.f}));a<i;++a){var x=r[a].s;if(!(m[x]>t))break;h+=g-(1<<f-m[x]),m[x]=t}for(h>>=v;h>0;){var y=r[a].s;m[y]<t?h-=1<<t-m[y]++-1:++a}for(;a>=0&&h;--a){var b=r[a].s;m[b]==t&&(--m[b],++h)}f=t}return{t:new Si(m),l:f}},Xi=function(e,t,n){return-1==e.s?Math.max(Xi(e.l,t,n+1),Xi(e.r,t,n+1)):t[e.s]=n},Qi=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ni(++t),a=0,i=e[0],r=1,s=function(e){n[a++]=e},o=1;o<=t;++o)if(e[o]==i&&o!=t)++r;else{if(!i&&r>2){for(;r>138;r-=138)s(32754);r>2&&(s(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(s(i),--r;r>6;r-=6)s(8304);r>2&&(s(r-3<<5|8208),r=0)}for(;r--;)s(i);r=1,i=e[o]}return{c:n.subarray(0,a),n:t}},er=function(e,t){for(var n=0,a=0;a<t.length;++a)n+=e[a]*t[a];return n},tr=function(e,t,n){var a=n.length,i=Ki(t+2);e[i]=255&a,e[i+1]=a>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var r=0;r<a;++r)e[i+r+4]=n[r];return 8*(i+4+a)},nr=function(e,t,n,a,i,r,s,o,c,p,d){Gi(t,d++,n),++i[256];for(var l=Ji(i,15),u=l.t,m=l.l,f=Ji(r,15),h=f.t,v=f.l,g=Qi(u),x=g.c,y=g.n,b=Qi(h),_=b.c,w=b.n,k=new Ni(19),j=0;j<x.length;++j)++k[31&x[j]];for(j=0;j<_.length;++j)++k[31&_[j]];for(var T=Ji(k,7),E=T.t,C=T.l,O=19;O>4&&!E[zi[O-1]];--O);var S,N,A,Z,R=p+5<<3,z=er(i,Hi)+er(r,Bi)+s,I=er(i,u)+er(r,h)+s+14+3*O+er(k,E)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&R<=z&&R<=I)return tr(t,d,e.subarray(c,c+p));if(Gi(t,d,1+(I<z)),d+=2,I<z){S=Ui(u,m,0),N=u,A=Ui(h,v,0),Z=h;var P=Ui(E,C,0);Gi(t,d,y-257),Gi(t,d+5,w-1),Gi(t,d+10,O-4),d+=14;for(j=0;j<O;++j)Gi(t,d+3*j,E[zi[j]]);d+=3*O;for(var F=[x,_],M=0;M<2;++M){var D=F[M];for(j=0;j<D.length;++j){var L=31&D[j];Gi(t,d,P[L]),d+=E[L],L>15&&(Gi(t,d,D[j]>>5&127),d+=D[j]>>12)}}}else S=Vi,N=Hi,A=Wi,Z=Bi;for(j=0;j<o;++j){var q=a[j];if(q>255){Yi(t,d,S[(L=q>>18&31)+257]),d+=N[L+257],L>7&&(Gi(t,d,q>>23&31),d+=Zi[L]);var $=31&q;Yi(t,d,A[$]),d+=Z[$],$>3&&(Yi(t,d,q>>5&8191),d+=Ri[$])}else Yi(t,d,S[q]),d+=N[q]}return Yi(t,d,S[256]),d+N[256]},ar=new Ai([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ir=new Si(0),rr=function(e,t,n,a,i,r){var s=r.z||e.length,o=new Si(a+s+5*(1+Math.ceil(s/7e3))+i),c=o.subarray(a,o.length-i),p=r.l,d=7&(r.r||0);if(t){d&&(c[0]=r.r>>3);for(var l=ar[t-1],u=l>>13,m=8191&l,f=(1<<n)-1,h=r.p||new Ni(32768),v=r.h||new Ni(f+1),g=Math.ceil(n/3),x=2*g,y=function(t){return(e[t]^e[t+1]<<g^e[t+2]<<x)&f},b=new Ai(25e3),_=new Ni(288),w=new Ni(32),k=0,j=0,T=r.i||0,E=0,C=r.w||0,O=0;T+2<s;++T){var S=y(T),N=32767&T,A=v[S];if(h[N]=A,v[S]=N,C<=T){var Z=s-T;if((k>7e3||E>24576)&&(Z>423||!p)){d=nr(e,c,0,b,_,w,j,E,O,T-O,d),E=k=j=0,O=T;for(var R=0;R<286;++R)_[R]=0;for(R=0;R<30;++R)w[R]=0}var z=2,I=0,P=m,F=N-A&32767;if(Z>2&&S==y(T-F))for(var M=Math.min(u,Z)-1,D=Math.min(32767,T),L=Math.min(258,Z);F<=D&&--P&&N!=A;){if(e[T+z]==e[T+z-F]){for(var q=0;q<L&&e[T+q]==e[T+q-F];++q);if(q>z){if(z=q,I=F,q>M)break;var $=Math.min(F,q-2),U=0;for(R=0;R<$;++R){var H=T-F+R&32767,B=H-h[H]&32767;B>U&&(U=B,A=H)}}}F+=(N=A)-(A=h[N])&32767}if(I){b[E++]=268435456|Mi[z]<<18|Di[I];var V=31&Mi[z],W=31&Di[I];j+=Zi[V]+Ri[W],++_[257+V],++w[W],C=T+z,++k}else b[E++]=e[T],++_[e[T]]}}for(T=Math.max(T,C);T<s;++T)b[E++]=e[T],++_[e[T]];d=nr(e,c,p,b,_,w,j,E,O,T-O,d),p||(r.r=7&d|c[d/8|0]<<3,d-=7,r.h=v,r.p=h,r.i=T,r.w=C)}else{for(T=r.w||0;T<s+p;T+=65535){var K=T+65535;K>=s&&(c[d/8|0]=p,K=s),d=tr(c,d+1,e.subarray(T,K))}r.i=s}return function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new Si(e.subarray(t,n))}(o,0,a+Ki(d)+i)},sr=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,a=9;--a;)n=(1&n&&-306674912)^n>>>1;e[t]=n}return e}(),or=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function cr(e,t){t||(t={});var n=function(){var e=-1;return{p:function(t){for(var n=e,a=0;a<t.length;++a)n=sr[255&n^t[a]]^n>>>8;e=n},d:function(){return~e}}}(),a=e.length;n.p(e);var i,r=function(e,t,n,a,i){if(!i&&(i={l:1},t.dictionary)){var r=t.dictionary.subarray(-32768),s=new Si(r.length+e.length);s.set(r),s.set(e,r.length),e=s,i.w=r.length}return rr(e,null==t.level?6:t.level,null==t.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,a,i)}(e,t,10+((i=t).filename?i.filename.length+1:0),8),s=r.length;return function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&or(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var a=0;a<=n.length;++a)e[a+10]=n.charCodeAt(a)}}(r,t),or(r,s-8,n.d()),or(r,s-4,a),r}var pr="undefined"!=typeof TextDecoder&&new TextDecoder;try{pr.decode(ir,{stream:!0})}catch(e){}const dr=i(r.stat),lr=i(r.mkdir),ur=i(r.readFile),mr=i(r.writeFile),fr=t.resolve(process.cwd()),hr=t.join(fr,"public"),vr=t.join(hr,"page"),gr=[".js",".css",".html"];async function xr(e){try{await dr(e)}catch(t){if("ENOENT"!==t.code)throw t;await lr(e,{recursive:!0}),console.log(`Created directory: ${e}`)}}var yr={id:"custompage",handler:async(e,n)=>{try{await xr(hr),await xr(vr),await async function(){const e=t.join(vr,"index.html");try{await dr(e)}catch(t){if("ENOENT"!==t.code)throw t;{const t='<!DOCTYPE html>\n  <html lang="en">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Custom Page</title>\n  </head>\n  <body>\n    <h1>Welcome to Custom Page</h1>\n    <p>This is a default page. You can customize it through the admin interface.</p>\n  </body>\n  </html>';await mr(e,t),console.log(`Created default index.html at ${e}`)}}}()}catch(e){throw console.error("Failed to create directories:",e),new Error("Unable to initialize required directories")}const a=Oi(vr);e.use("/static",(async(e,n,a)=>{if("GET"!==e.method||!e.acceptsEncodings("gzip"))return a();const i=t.join(vr,e.url);try{if(!(await dr(i)).isFile())return a();if(!gr.some((t=>e.url.endsWith(t))))return a();const t=cr(await ur(i),{level:6});n.setHeader("Content-Encoding","gzip"),n.setHeader("Content-Type",function(e){return e.endsWith(".js")?"application/javascript":e.endsWith(".css")?"text/css":e.endsWith(".html")?"text/html":"application/octet-stream"}(e.url)),n.send(Buffer.from(t))}catch(e){return"ENOENT"!==e.code&&console.error("GZIP compression failed:",e),a(e)}}),a),e.get("/view",(async(e,n)=>{let a=!0;const i=t.join(vr,".disable");if(r.existsSync(i)&&(a=!1),!1===a)return n.status(404).send({errors:[{message:"Route /custompage/view doesn't exist.",extensions:{path:"/custompage/view",code:"ROUTE_NOT_FOUND"}}]});n.sendFile(t.join(vr,"index.html"))})),e.get("/setting/get",(async(e,n)=>{const a=e.accountability;if(!1===(null==a?void 0:a.admin))return n.status(404).send({errors:[{message:"Route /custompage/setting/get doesn't exist.",extensions:{path:"/custompage/setting/get",code:"ROUTE_NOT_FOUND"}}]});const i=t.join(vr,"index.html");try{const e=await ur(i,"utf8");n.setHeader("Content-Type","text/plain"),n.send(e)}catch(e){n.status(500).send("Internal Server Error"),console.error("Error reading file:",e)}})),e.post("/setting/save",(async(e,n)=>{const a=e.accountability;if(!1===(null==a?void 0:a.admin))return n.status(404).send({errors:[{message:"Route /custompage/setting/save doesn't exist.",extensions:{path:"/custompage/setting/save",code:"ROUTE_NOT_FOUND"}}]});const i=t.join(vr,"index.html"),{page:r}=e.body;try{await mr(i,r),n.send({message:"success"})}catch(e){console.error("Error writing file:",e),n.status(500).send("Internal Server Error")}})),e.post("/setting/status",(async(e,n)=>{const a=e.accountability;if(!1===(null==a?void 0:a.admin))return n.status(404).send({errors:[{message:"Route /custompage/disable doesn't exist.",extensions:{path:"/custompage/disable",code:"ROUTE_NOT_FOUND"}}]});const i=t.join(vr,".disable");r.existsSync(i)&&n.send({data:{visible:!1,message:"Custom Page is disabled, you can enable it in the settings page."}}),n.send({data:{visible:!0,message:"Custom Page is enabled."}})})),e.post("/setting/disable",(async(e,n)=>{const a=e.accountability;if(!1===(null==a?void 0:a.admin))return n.status(404).send({errors:[{message:"Route /custompage/disable doesn't exist.",extensions:{path:"/custompage/disable",code:"ROUTE_NOT_FOUND"}}]});const i=t.join(vr,".disable"),{visible:s}=e.body;try{if(!1===s)return await mr(i,"1145141919810"),n.send({data:{visible:!1,message:"Custom Page is disabled, you can enable it in the settings page."}});if(!0!==s)return n.status(400).send({errors:[{message:"Invalid visible value. Must be boolean.",extensions:{code:"INVALID_PAYLOAD"}}]});if(r.existsSync(i))return r.unlink(i,(function(e){if(e)throw e})),n.send({data:{visible:!0,message:"Custom Page is enabled."}})}catch(e){return console.error("Error handling disable file:",e),n.status(500).send("Internal Server Error")}}))}};const br=[{name:"embed-scripts-hook",config:Gt}],_r=[{name:"load-scripts-endpoint",config:Yt},{name:"load-page-endpoint",config:yr}],wr=[];export{_r as endpoints,br as hooks,wr as operations};
